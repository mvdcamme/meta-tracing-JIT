(begin (define (rotate n)
         (define a 0)
         (define b "some ")
         (define c #f)
         (define (switch-params)
           (define temp-a a)
           (define temp-b b)
           (set! a c)
           (set! b temp-a)
           (set! c temp-b))
         (define (act-on-params i)
           (define (act-on-int param)
             (display (+ param 10)))
           (define (act-on-string param)
             (display (string-append param "string")))
           (define (act-on-bool param)
             (display (if (not param)
                          "is false")))
           (if (= (modulo i 3) 1)
               (begin (display "A: ") (act-on-int a)
                      (display ", B: ") (act-on-string b)
                      (display ", C: ") (act-on-bool c) (newline))
               (if (= (modulo i 3) 2)
                   (begin (display ", B: ") (act-on-int b)
                          (display ", C: ") (act-on-string c)
                          (display "A: ") (act-on-bool a) (newline))
                   (begin (display ", C: ") (act-on-int c)
                          (display ", A: ") (act-on-string a)
                          (display "B: ") (act-on-bool b) (newline)))))
         (define (loop i)
           (if (< i n)
               (begin (act-on-params i)
                      (switch-params)
                      (loop (+ i 1)))))
         (loop 1))
       
       (rotate 30))